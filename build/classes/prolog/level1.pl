:- dynamic pos/2.
:- dynamic pacman/3.
:- dynamic fruit/2.
:- dynamic point/2.

pos(2,1).
pos(3,1).
pos(4,1).
pos(5,1).
pos(6,1).
pos(7,1).
pos(14,1).
pos(15,1).
pos(16,1).
pos(17,1).
pos(18,1).
pos(19,1).
pos(20,1).
pos(23,1).
pos(24,1).
pos(25,1).
pos(26,1).
pos(27,1).
pos(28,1).
pos(29,1).
pos(35,1).
pos(36,1).
pos(37,1).
pos(38,1).
pos(39,1).
pos(40,1).
pos(41,1).
pos(42,1).
pos(43,1).
pos(2,2).
pos(7,2).
pos(14,2).
pos(17,2).
pos(26,2).
pos(29,2).
pos(35,2).
pos(43,2).
pos(2,3).
pos(7,3).
pos(14,3).
pos(17,3).
pos(26,3).
pos(29,3).
pos(35,3).
pos(43,3).
pos(2,4).
pos(3,4).
pos(4,4).
pos(5,4).
pos(6,4).
pos(7,4).
pos(8,4).
pos(9,4).
pos(10,4).
pos(11,4).
pos(12,4).
pos(13,4).
pos(14,4).
pos(17,4).
pos(18,4).
pos(19,4).
pos(20,4).
pos(23,4).
pos(24,4).
pos(25,4).
pos(26,4).
pos(29,4).
pos(30,4).
pos(31,4).
pos(32,4).
pos(33,4).
pos(34,4).
pos(35,4).
pos(36,4).
pos(37,4).
pos(38,4).
pos(39,4).
pos(40,4).
pos(41,4).
pos(42,4).
pos(43,4).
pos(7,5).
pos(14,5).
pos(20,5).
pos(23,5).
pos(29,5).
pos(38,5).
pos(7,6).
pos(14,6).
pos(20,6).
pos(23,6).
pos(29,6).
pos(38,6).
pos(7,7).
pos(14,7).
pos(17,7).
pos(18,7).
pos(19,7).
pos(20,7).
pos(21,7).
pos(22,7).
pos(23,7).
pos(24,7).
pos(25,7).
pos(26,7).
pos(29,7).
pos(38,7).
pos(7,8).
pos(14,8).
pos(17,8).
pos(26,8).
pos(29,8).
pos(32,8).
pos(35,8).
pos(38,8).
pos(7,9).
pos(14,9).
pos(17,9).
pos(26,9).
pos(29,9).
pos(32,9).
pos(35,9).
pos(38,9).
pos(1,10).
pos(2,10).
pos(3,10).
pos(4,10).
pos(5,10).
pos(6,10).
pos(7,10).
pos(11,10).
pos(12,10).
pos(13,10).
pos(14,10).
pos(15,10).
pos(16,10).
pos(17,10).
pos(26,10).
pos(27,10).
pos(28,10).
pos(29,10).
pos(32,10).
pos(35,10).
pos(38,10).
pos(39,10).
pos(40,10).
pos(41,10).
pos(42,10).
pos(43,10).
pos(44,10).
pos(7,11).
pos(11,11).
pos(14,11).
pos(17,11).
pos(26,11).
pos(29,11).
pos(32,11).
pos(35,11).
pos(38,11).
pos(7,12).
pos(11,12).
pos(14,12).
pos(17,12).
pos(26,12).
pos(29,12).
pos(32,12).
pos(35,12).
pos(38,12).
pos(7,13).
pos(11,13).
pos(14,13).
pos(17,13).
pos(18,13).
pos(19,13).
pos(20,13).
pos(21,13).
pos(22,13).
pos(23,13).
pos(24,13).
pos(25,13).
pos(26,13).
pos(29,13).
pos(32,13).
pos(35,13).
pos(38,13).
pos(7,14).
pos(11,14).
pos(14,14).
pos(17,14).
pos(26,14).
pos(29,14).
pos(32,14).
pos(35,14).
pos(38,14).
pos(7,15).
pos(11,15).
pos(14,15).
pos(17,15).
pos(26,15).
pos(29,15).
pos(32,15).
pos(35,15).
pos(38,15).
pos(2,16).
pos(3,16).
pos(4,16).
pos(5,16).
pos(6,16).
pos(7,16).
pos(8,16).
pos(9,16).
pos(10,16).
pos(11,16).
pos(12,16).
pos(13,16).
pos(14,16).
pos(15,16).
pos(16,16).
pos(17,16).
pos(18,16).
pos(19,16).
pos(20,16).
pos(23,16).
pos(24,16).
pos(25,16).
pos(26,16).
pos(27,16).
pos(28,16).
pos(29,16).
pos(30,16).
pos(31,16).
pos(32,16).
pos(33,16).
pos(34,16).
pos(35,16).
pos(36,16).
pos(37,16).
pos(38,16).
pos(39,16).
pos(40,16).
pos(41,16).
pos(42,16).
pos(43,16).
pos(2,17).
pos(7,17).
pos(14,17).
pos(20,17).
pos(23,17).
pos(29,17).
pos(35,17).
pos(43,17).
pos(2,18).
pos(7,18).
pos(14,18).
pos(20,18).
pos(21,18).
pos(22,18).
pos(23,18).
pos(29,18).
pos(35,18).
pos(43,18).
pos(2,19).
pos(3,19).
pos(4,19).
pos(5,19).
pos(6,19).
pos(7,19).
pos(14,19).
pos(15,19).
pos(16,19).
pos(17,19).
pos(18,19).
pos(19,19).
pos(20,19).
pos(23,19).
pos(24,19).
pos(25,19).
pos(26,19).
pos(27,19).
pos(28,19).
pos(29,19).
pos(35,19).
pos(36,19).
pos(37,19).
pos(38,19).
pos(39,19).
pos(40,19).
pos(41,19).
pos(42,19).
pos(43,19).


point(3,1).
point(4,1).
point(5,1).
point(6,1).
point(7,1).
point(14,1).
point(15,1).
point(16,1).
point(17,1).
point(18,1).
point(19,1).
point(20,1).
point(23,1).
point(24,1).
point(25,1).
point(26,1).
point(27,1).
point(28,1).
point(29,1).
point(35,1).
point(36,1).
point(37,1).
point(38,1).
point(39,1).
point(40,1).
point(41,1).
point(42,1).
point(2,2).
point(7,2).
point(14,2).
point(17,2).
point(26,2).
point(29,2).
point(35,2).
point(43,2).
point(2,3).
point(7,3).
point(14,3).
point(17,3).
point(26,3).
point(29,3).
point(35,3).
point(43,3).
point(2,4).
point(3,4).
point(4,4).
point(5,4).
point(6,4).
point(7,4).
point(8,4).
point(9,4).
point(10,4).
point(11,4).
point(12,4).
point(13,4).
point(14,4).
point(17,4).
point(18,4).
point(19,4).
point(20,4).
point(23,4).
point(24,4).
point(25,4).
point(26,4).
point(29,4).
point(30,4).
point(31,4).
point(32,4).
point(33,4).
point(34,4).
point(35,4).
point(36,4).
point(37,4).
point(38,4).
point(39,4).
point(40,4).
point(41,4).
point(42,4).
point(43,4).
point(7,5).
point(14,5).
point(29,5).
point(38,5).
point(7,6).
point(14,6).
point(29,6).
point(38,6).
point(7,7).
point(14,7).
point(29,7).
point(38,7).
point(7,8).
point(14,8).
point(29,8).
point(38,8).
point(7,9).
point(14,9).
point(29,9).
point(32,9).
point(35,9).
point(38,9).
point(7,10).
point(11,10).
point(12,10).
point(13,10).
point(14,10).
point(29,10).
point(32,10).
point(35,10).
point(38,10).
point(7,11).
point(11,11).
point(14,11).
point(29,11).
point(32,11).
point(35,11).
point(38,11).
point(7,12).
point(11,12).
point(14,12).
point(29,12).
point(32,12).
point(35,12).
point(38,12).
point(7,13).
point(11,13).
point(14,13).
point(29,13).
point(32,13).
point(35,13).
point(38,13).
point(7,14).
point(11,14).
point(14,14).
point(29,14).
point(32,14).
point(35,14).
point(38,14).
point(7,15).
point(11,15).
point(14,15).
point(29,15).
point(32,15).
point(35,15).
point(38,15).
point(2,16).
point(3,16).
point(4,16).
point(5,16).
point(6,16).
point(7,16).
point(8,16).
point(9,16).
point(10,16).
point(11,16).
point(12,16).
point(13,16).
point(14,16).
point(15,16).
point(16,16).
point(17,16).
point(18,16).
point(19,16).
point(20,16).
point(23,16).
point(24,16).
point(25,16).
point(26,16).
point(27,16).
point(28,16).
point(29,16).
point(30,16).
point(31,16).
point(32,16).
point(33,16).
point(34,16).
point(35,16).
point(36,16).
point(37,16).
point(38,16).
point(39,16).
point(40,16).
point(41,16).
point(42,16).
point(43,16).
point(2,17).
point(7,17).
point(14,17).
point(20,17).
point(23,17).
point(29,17).
point(35,17).
point(43,17).
point(2,18).
point(7,18).
point(14,18).
point(20,18).
point(21,18).
point(22,18).
point(23,18).
point(29,18).
point(35,18).
point(43,18).
point(3,19).
point(4,19).
point(5,19).
point(6,19).
point(7,19).
point(14,19).
point(15,19).
point(16,19).
point(17,19).
point(18,19).
point(19,19).
point(20,19).
point(23,19).
point(24,19).
point(25,19).
point(26,19).
point(27,19).
point(28,19).
point(29,19).
point(35,19).
point(36,19).
point(37,19).
point(38,19).
point(39,19).
point(40,19).
point(41,19).
point(42,19).


fruit(2,1).
fruit(43,1).
fruit(32,8).
fruit(35,8).
fruit(2,19).
fruit(43,19).

pacman(21,7,'r').

%% retorna os possiveis movimentos
mov(X1,Y1,X2,Y2):-pos(X1,Y1), X2 is X1 , Y2 is Y1+1 ,pos(X2,Y2).
mov(X1,Y1,X2,Y2):-pos(X1,Y1), X2 is X1 , Y2 is Y1-1 ,pos(X2,Y2).
mov(X1,Y1,X2,Y2):-pos(X1,Y1), X2 is X1+1 , Y2 is Y1 , pos(X2,Y2).
mov(X1,Y1,X2,Y2):-pos(X1,Y1), X2 is X1 -1 , Y2 is Y1 , pos(X2,Y2).


%%	executa os movimentos
right:-pacman(X1,Y1,Z1),pos(X1,Y1), X2 is X1+1 , Y2 is Y1 , pos(X2,Y2),retract(pacman(X1,Y1,Z1)),assert(pacman(X2,Y2,'r')).
left:-pacman(X1,Y1,Z1),pos(X1,Y1), X2 is X1-1 , Y2 is Y1 , pos(X2,Y2),retract(pacman(X1,Y1,Z1)),assert(pacman(X2,Y2,'l')).
up:-pacman(X1,Y1,Z1),pos(X1,Y1), X2 is X1 , Y2 is Y1-1 , pos(X2,Y2),retract(pacman(X1,Y1,Z1)),assert(pacman(X2,Y2,'u')).
down:-pacman(X1,Y1,Z1),pos(X1,Y1), X2 is X1 , Y2 is Y1+1 , pos(X2,Y2),retract(pacman(X1,Y1,Z1)),assert(pacman(X2,Y2,'d')).

%%portais
%%left:- pacman(X1,Y1,Z1),portal(pos(X1,Y1),pos(X2,Y2),esq),retract(pacman(X1,Y1,Z1)),assert(pacman(X2,Y2,'l')).
%%right:- pacman(X1,Y1,Z1),portal(pos(X1,Y1),pos(X2,Y2),dir),retract(pacman(X1,Y1,Z1)),assert(pacman(X2,Y2,'r')).

comeu:- pacman(X,Y,_),fruit(X,Y),retract(fruit(X,Y)), assert(comerFantasmas).

comerBlinky :- pacman(X,Y,_),blinky(X,Y),retract(blinky(X,Y)),assert(blinky(1,1)),retract(comerFantasmas).
comerClyde :- pacman(X,Y,_),clyde(X,Y),retract(clyde(X,Y)),assert(clyde(1,1)),retract(comerFantasmas).
comerInky :- pacman(X,Y,_),inky(X,Y),retract(inky(X,Y)),assert(inky(1,1)),retract(comerFantasmas).
comerPink :- pacman(X,Y,_),pink(X,Y),retract(pink(X,Y)),assert(pink(1,1)),retract(comerFantasmas).

